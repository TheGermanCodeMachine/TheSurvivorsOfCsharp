@page "Home"
@model TheSurvivorsOfCsharp.Pages.Courses.IndexModel

@*add more data here:<p>
        <a asp-page="Create">Create New</a>
    </p>*@
    
    
        <div class="text-center mt-4 mb-3">
            <h1>Quick Search</h1>
        </div>
        <hr />
        
    

    <div class="container">
        <div class="row">
            <form>
               University:
                <select  asp-for="University" asp-items="Model.Universities">
                    <option value=""></option>
                </select>
                Major:
                <select asp-for="Major" asp-items="Model.Majors">
                    <option value=""></option>
                </select>
                Lecturer:
                <select asp-for="Lecturer" asp-items="Model.Lecturers">
                    <option value=""></option>
                </select> 
                
                <input type="text" id="searchrec" class="search" placeholder="Search data.." />
            </form>
        </div>
    </div>
    <table class="table" id="table1">
            <tr>
                <th>Name</th>
                <th>Since</th>
                <th>University</th> 
            </tr>


            @foreach (var item in Model.Course)
            {
                <tr>
                    <td id="first"><a asp-page="./Details" asp-route-id="@item.ID">@item.Name</a></td>
                    <td>
                        @{ 
                            string semester = Model.SemesterName(item.Since);
                        }
                        @semester
                    </td>
                    <td>@item.University.Name</td> 
                </tr>
            }
    </table>
    

 <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

<script>
    $(document).ready(function ()
    {
        $(".search").on("keyup", function ()
        {
            var datasearch = $(this).val().toLowerCase();
            $("#table1 tr").each(function ()
            {
                var stringdata = $(this).text().toLowerCase();
                if (stringdata.indexOf(datasearch) === -1) {
                    $(this).hide();
                }
                else {
                    $(this).show();
                }
            });
        });
    });

</script>
